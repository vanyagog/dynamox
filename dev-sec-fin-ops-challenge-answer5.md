
# FinOps Analysis

## Оценка стоимости сервисов на Google Cloud

### Входные данные

| Атрибут        | Backend Deployment       | Extraction Cronjob         |
|----------------|-------------------------|----------------------------|
| Machine Type   | n1-highcpu-4            | n1-highmem-2               |
| Number of Pods | 55                      | 28                         |
| CPU            | 1.25                    | 0.5                        |
| Memory         | 512 Mi (0.5 Gi)         | 2 Gi                       |

### Примерные цены (ориентировочно)

| Машина         | Цена в час (USD)         |
|----------------|--------------------------|
| n1-highcpu-4   | 0.60                     |
| n1-highmem-2   | 0.38                     |

---

### Расчёт Backend Deployment

- CPU на все поды: 55 × 1.25 = 68.75 CPU  
- Память: 55 × 0.5 Gi = 27.5 Gi  
- Машина n1-highcpu-4 имеет 4 CPU и 3.6 Gi памяти  
- Требуется минимум 18 таких машин (по CPU)  
- Стоимость в час: 18 × 0.60 = 10.8 USD  
- Стоимость в день: 10.8 × 24 = 259.2 USD  
- Стоимость за 30 дней: 259.2 × 30 = 7,776 USD  
- Стоимость за 365 дней: 259.2 × 365 = 94,608 USD  

### Расчёт Extraction Cronjob

- CPU на все поды: 28 × 0.5 = 14 CPU  
- Память: 28 × 2 Gi = 56 Gi  
- Машина n1-highmem-2 имеет 2 CPU и 13 Gi памяти  
- Требуется минимум 7 таких машин (по CPU)  
- Стоимость в час: 7 × 0.38 = 2.66 USD  
- Стоимость в день: 2.66 × 24 = 63.84 USD  
- Стоимость за 30 дней: 63.84 × 30 = 1,915.2 USD  
- Стоимость за 365 дней: 63.84 × 365 = 23,301.6 USD  

---

### Итоговая оценка затрат

| Сервис             | 30 дней (USD) | 365 дней (USD) |
|--------------------|---------------|----------------|
| Backend Deployment  | 7,776         | 94,608         |
| Extraction Cronjob  | 1,915.2       | 23,301.6       |
| **Всего**          | **9,691.2**   | **117,909.6**  |

---

### Рекомендации по оптимизации затрат

- Запускать тестовые окружения с меньшим количеством подов.  
- Использовать preemptible инстансы (spot instances).  
- Автоматически масштабировать нагрузку с помощью HPA.  
- Оптимизировать использование CPU и памяти.  
- Рассмотреть альтернативные типы машин и регионы.

---
